# bilibili-Ignored
 屏蔽 正在观看人数、弹幕数量.Detect specific HTML code and comment it out.


### 总结与反思

#### 1. 初始代码的问题

初始代码的错误主要在于以下几个方面：

- **选择器问题**: 初始代码使用了 `.bpx-player-video-info` 作为父元素的选择器，但未能确保该元素在 DOM 加载时存在。由于许多网页内容是动态加载的（如通过 JavaScript 渲染），在 DOMContentLoaded 事件触发时，该元素可能尚未被加载。

- **缺乏动态监控**: 初始代码仅在页面加载时执行一次，没有考虑到网页内容可能会在后续时间被更改或添加。这意味着即使在初始加载时没有找到目标元素，也无法在后续的 DOM 变更中处理它。

#### 2. 使用 MutationObserver 的优势

**MutationObserver** 是一个强大的工具，能够实时观察 DOM 变化并响应这些变化。其优势体现在：

- **实时性**: MutationObserver 允许在 DOM 内容发生变化时（如添加、删除节点）自动执行特定的回调函数。这使得能够及时捕获动态加载的内容。

- **灵活性**: 它支持监听各种 DOM 变化，如子元素的添加或删除、属性的变化等，使得处理动态内容更加灵活。

- **效率**: 与传统的轮询方法相比，MutationObserver 更加高效，因为它只在 DOM 发生变化时触发，而不是定期检查 DOM。

#### 3. 反思与改进

- **初步设计**: 在编写代码时，考虑动态加载内容是至关重要的。应该使用适当的工具（如 MutationObserver）来确保能够处理随时间变化的 DOM。

- **测试与调试**: 在开发 Chrome 插件时，应该经常使用浏览器的开发者工具（F12）来测试和调试代码。确保代码在实际网页环境中正确运行，并不断调整选择器和逻辑。

- **逐步迭代**: 在实现功能时，可以从简单到复杂逐步构建代码，先确保基本功能的实现，然后逐步添加更多的逻辑和功能。

#### 4. 结论

通过本次经历，我认识到在处理现代网页中的动态内容时，传统的 DOM 操作方式可能无法满足需求。利用 MutationObserver 等现代 API，可以更高效地处理动态变化的网页内容，从而实现更可靠的功能。未来在开发过程中，将更加注重选择器的准确性和对动态内容的处理，确保代码的健壮性与可维护性。